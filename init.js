const WAITING = 'waiting';
const MOVING = 'moving';
const DRILLING = 'drilling';
const PAYING = 'paying';

const BOX = 'box';
const WALL = 'wall';
const WIN = 'win';

var cursors;

// var level = [[2,2,2,2,2,2,2,2,2,2],
//              [2,0,0,0,0,0,0,0,0,2],
//              [2,2,2,2,2,2,2,2,2,2]];

// var lvl1 =
//     {player: {i:8, j:8},
//      terrain: [[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2],
//                [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
//      spawners: [{i:1, j:8}, {i:15, j:8}],
//      enemies: []}

var lvl1 =
    {player: {i:8, j:8},
     terrain: [[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
               [2,0,0,2,1,0,0,0,0,0,0,0,1,2,0,0,2],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
     spawners: [],
     enemies: [{i:8, j:1}, {i:8, j:15}]}

var lvl2 =
    {player: {i:8, j:1},
     terrain: [[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
               [2,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,2],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
     spawners: [],
     enemies: [{i:8, j:15}]}

var lvl3 =
    {player: {i:5, j:5},
     terrain: [[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,2,2,2,2,2,2,2,2,2,2,2,2,2],
               [4,4,2,0,0,0,0,0,0,0,0,0,0,0,2],
               [4,4,2,0,2,2,2,2,0,2,2,2,2,0,2],
               [4,4,2,0,2,0,0,0,0,0,0,0,2,0,2],
               [4,4,2,0,2,0,0,0,0,0,0,0,2,0,2],
               [4,4,2,0,2,0,0,0,0,0,0,0,2,0,2],
               [4,4,2,0,2,0,0,0,0,0,0,0,2,0,2],
               [4,4,2,0,2,0,0,0,0,0,0,0,2,0,2],
               [4,4,2,0,2,0,0,0,0,0,0,0,2,0,2],
               [4,4,2,0,2,0,0,0,0,0,0,0,2,0,2],
               [4,4,2,0,2,2,2,2,0,2,2,2,2,0,2],
               [4,4,2,0,0,0,0,0,0,0,0,0,0,0,2],
               [4,4,2,2,2,2,2,2,2,2,2,2,2,2,2]],
     spawners: [],
     enemies: [{i:11, j:11}]}

var lvl4 =
    {player: {i:8, j:1},
     terrain: [[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
     spawners: [],
     enemies: [{i:8, j:15}]}

var lvl5 =
    {player: {i:7, j:4},
     terrain: [[4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,2,2,2,2,2,2,2,2,2,2,2],
               [4,4,4,2,0,0,0,0,0,0,0,0,0,2],
               [4,4,4,2,0,2,2,2,2,2,2,2,0,2],
               [4,4,4,2,0,0,0,0,0,0,0,0,0,2],
               [4,4,4,2,2,2,2,2,2,2,2,2,2,2]],
     spawners: [],
     enemies: [{i:9, j:11}]}

var lvl6 =
    {player: {i:8, j:8},
     terrain: [[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,2,2,2,2,2,2,0,2,2,2,2,2,2,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
     spawners: [],
     enemies: [{i:1, j:1}, {i:15, j:15}]}

// var lvl3 =
//     {player: {i:4, j:8},
//      terrain: [[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
//                [2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,2],
//                [2,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,2],
//                [2,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,2],
//                [2,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,2],
//                [2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2],
//                [2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2],
//                [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
//      spawners: [],
//      enemies: [{i:1, j:7}, {i:1, j:9}]}


// lvl4 is actually interesting! (but maybe impossible now)
var lvl7 =
    {player: {i:10, j:1},
     terrain: [[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,2],
               [2,0,0,2,4,4,4,4,4,4,4,4,4,2,0,0,2],
               [2,0,0,2,4,4,4,4,4,4,4,4,4,2,0,0,2],
               [2,2,2,2,4,4,4,4,4,4,4,4,4,2,2,2,2]],
     spawners: [],
     enemies: [{i:10, j:15}]}

var lvl8 =
    {player: {i:8, j:8},
     terrain: [[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
     spawners: [],
     enemies: [{i:1, j:1}, {i:1, j:8}, {i:1, j:15}, {i:8, j:1}, {i:8, j:15}, {i:15, j:1}, {i:15, j:8}, {i:15, j:15}]}

var lvl9 =
    {player: {i:6, j:1},
     terrain: [[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
               [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
     spawners: [],
     enemies: [{i:10, j:15}]}

// var level = [[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]];

// var level = [[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2],
//              [2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],
//              [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]];

var lvls = [lvl2, lvl1, lvl6, lvl4, lvl8, lvl3, lvl5, lvl9, lvl7];
var wons = [false, false, false, false, false, false, false, false, false];

const INFINITY = 10000;

const KeyCodes = Phaser.Input.Keyboard.KeyCodes;
